webpackJsonp([1],{"+AEV":function(e,t){},0:function(e,t){},"7zck":function(e,t){},BlBY:function(e,t){},"Gz/g":function(e,t){},I4Fd:function(e,t){},Iqrd:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),r=s("NYxO"),a={name:"Header",components:{},data:function(){return{}},methods:{},props:{headerText:String}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"header"}},[t("h2",{attrs:{id:"topText"}},[this._v(this._s(this.headerText))]),this._v(" "),t("hr")])},staticRenderFns:[]};var i=s("VU/8")(a,o,!1,function(e){s("Zd5E")},null,null).exports,l={name:"MainMenu",data:function(){return{nameInput:"",roomNumInput:""}},methods:{btnPressNewGame:function(e){this.$socket.emit("btnPressNewGame",{name:this.nameInput}),this.$emit("btnPressToLobby",this.nameInput,"new")},btnPressJoinGame:function(e){this.$socket.emit("btnPressJoinGame",{name:this.nameInput,roomNum:this.roomNumInput}),this.$emit("btnPressToLobby",this.nameInput,this.roomNumInput)}},props:{snackbar:Boolean}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center",attrs:{id:"mainMenu"}},[s("v-form",{staticClass:"px-10"},[s("v-text-field",{attrs:{label:"Name"},model:{value:e.nameInput,callback:function(t){e.nameInput=t},expression:"nameInput"}}),e._v(" "),s("v-text-field",{attrs:{label:"Room Number"},model:{value:e.roomNumInput,callback:function(t){e.roomNumInput=t},expression:"roomNumInput"}})],1),e._v(" "),s("v-btn",{attrs:{disabled:e.snackbar,"x-large":""},on:{click:e.btnPressNewGame}},[e._v("New Game")]),e._v(" "),s("v-btn",{attrs:{disabled:e.snackbar,"x-large":""},on:{click:e.btnPressJoinGame}},[e._v("Join Game")]),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var v=s("VU/8")(l,c,!1,function(e){s("cEv2")},null,null).exports,u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center",attrs:{id:"lobby"}},[s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressStartGame}},[e._v("Start Game")]),e._v(" "),s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressDisbandGame}},[e._v("Disband Game")]),e._v(" "),s("h3",[e._v(e._s(e.messageToHost))]),e._v(" "),s("v-divider"),e._v(" "),s("h3",[e._v("Special Characters")]),e._v(" "),s("v-container",[s("v-row",{staticClass:"justify-center"},[s("v-col",{attrs:{cols:"4"}},[s("v-checkbox",{attrs:{"input-value":"true",readonly:"",label:"Merlin",color:"blue",hint:"Sees Evil.","persistent-hint":""}}),e._v(" "),s("v-checkbox",{attrs:{label:"Percival",value:"percival",color:"blue",hint:"Sees Merlin.","persistent-hint":""},model:{value:e.checkedChars,callback:function(t){e.checkedChars=t},expression:"checkedChars"}})],1),e._v(" "),s("v-col",{attrs:{cols:"4"}},[s("v-checkbox",{attrs:{"input-value":"true",readonly:"",label:"Assassin",color:"red",hint:"Tries to kill Merlin.","persistent-hint":""}}),e._v(" "),s("v-checkbox",{attrs:{label:"Morgana",value:"morgana",color:"red",hint:"Masquerades as Merlin.","persistent-hint":""},model:{value:e.checkedChars,callback:function(t){e.checkedChars=t},expression:"checkedChars"}})],1),e._v(" "),s("v-col",{attrs:{cols:"4"}},[s("v-checkbox",{attrs:{label:"Mordred",value:"mordred",color:"red",hint:"Unseen by Merlin.","persistent-hint":""},model:{value:e.checkedChars,callback:function(t){e.checkedChars=t},expression:"checkedChars"}}),e._v(" "),s("v-checkbox",{attrs:{label:"Oberon",value:"oberon",color:"red",hint:"Unseen by Evil, Evil unseen to him.","persistent-hint":""},model:{value:e.checkedChars,callback:function(t){e.checkedChars=t},expression:"checkedChars"}})],1)],1)],1),e._v(" "),s("v-divider"),e._v(" "),s("h3",[e._v("Lobby Members: "+e._s(e.room.length))]),e._v(" "),s("p",[e._v(e._s(e.lobbySizeStr))]),e._v(" "),e._l(e.room,function(t){return s("v-chip",{key:t.name,attrs:{outlined:""}},[e._v(e._s(t.name))])}),e._v(" "),s("v-divider")],2)},staticRenderFns:[]};var h=s("VU/8")({name:"HostLobby",data:function(){return{checkedChars:[],messageToHost:"You are the host."}},computed:{room:function(){return this.$store.state.room},lobbySizeStr:function(){var e=this.$store.state.room;return e.length<5?"Need at least "+(5-e.length)+" more player(s).":5===e.length?"There will be 3 Good and 2 Evil.":6===e.length?"There will be 4 Good and 2 Evil.":7===e.length?"There will be 4 Good and 3 Evil.":8===e.length?"There will be 5 Good and 3 Evil.":9===e.length?"There will be 6 Good and 3 Evil.":10===e.length?"There will be 6 Good and 4 Evil.":"There are too many players."}},methods:{btnPressDisbandGame:function(e){this.$socket.emit("btnPressDisbandGame",{roomNum:this.$store.state.roomNum}),this.$emit("btnPressDisbandGame")},btnPressStartGame:function(e){this.$socket.emit("btnPressStartGame",{charList:this.checkedChars,roomNum:this.$store.state.roomNum})},listenInvalidCharacterSelect:function(){var e=this;this.$socket.on("invalidCharacterSelect",function(t){e.messageToHost=t.message})}},beforeMount:function(){this.listenInvalidCharacterSelect()}},u,!1,function(e){s("Gz/g")},null,null).exports,d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center",attrs:{id:"lobby"}},[s("v-btn",{attrs:{"x-large":""}},[e._v("Waiting...")]),e._v(" "),s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressLeaveGame}},[e._v("Leave Game")]),e._v(" "),s("h3",[e._v("Waiting for host to start the game.")]),e._v(" "),s("v-divider"),e._v(" "),s("h3",[e._v("Lobby Members: "+e._s(e.room.length))]),e._v(" "),s("p",[e._v(e._s(e.lobbySizeStr))]),e._v(" "),e._l(e.room,function(t){return s("v-chip",{key:t.name,attrs:{outlined:""}},[e._v(e._s(t.name))])}),e._v(" "),s("v-divider")],2)},staticRenderFns:[]};var _=s("VU/8")({name:"GuestLobby",computed:{room:function(){return this.$store.state.room},lobbySizeStr:function(){var e=this.$store.state.room;return e.length<5?"Need at least "+(5-e.length)+" more player(s).":5===e.length?"There will be 3 Good and 2 Evil.":6===e.length?"There will be 4 Good and 2 Evil.":7===e.length?"There will be 4 Good and 3 Evil.":8===e.length?"There will be 5 Good and 3 Evil.":9===e.length?"There will be 6 Good and 3 Evil.":10===e.length?"There will be 6 Good and 4 Evil.":"There are too many players."}},methods:{btnPressLeaveGame:function(e){this.$socket.emit("btnPressLeaveGame",{roomNum:this.$store.state.roomNum})}}},d,!1,function(e){s("u7O1")},null,null).exports,m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-expansion-panels",{attrs:{inset:"",hover:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",{staticClass:"text-center"},[e._v("Rules")])]),e._v(" "),s("v-expansion-panel-content",[s("v-expansion-panels",{attrs:{multiple:"",inset:"",hover:""}},[s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",[e._v("Overview")])]),e._v(" "),s("v-expansion-panel-content",[s("h4",[e._v("Introduction")]),e._v(" "),s("p",[s("strong",[e._v("Avalon")]),e._v(" is a social deduction game of Good versus Evil.  Players are randomly assigned a character aligned to Good or Evil, and some will have a special ability (see Special Characters below).  Each round, players must earn the trust of others to be elected onto the questing party where they can influence the outcome of the current quest.  Players on the side of Good wish to complete three quests successfully, and Evil players want three quests to fail.")]),e._v(" "),s("p",[e._v("Agents of Evil are told who the other Evil players are, while most Good characters have no knowledge of other player's roles.  Only Merlin has knowledge of the agents of Evil, and must try to guide Good so that only parties with Good players are approved for the quest.  But he must hide his identity; the Assassin has a chance to kill Merlin at the end of the game.  If she successfully kills Merlin, Evil wins instead.")]),e._v(" "),s("h4",[e._v("Selection Phase")]),e._v(" "),s("p",[e._v("At the start of each round, the current party leader proposes a set of players who will go on the quest.  The size of the party is predetermined, decided by the number of players and the quest.  All players are free to talk during this phase to convince others of their suspicions or state who they would like to be on the party.  For Good, it is critical no Evil players make it onto the quest.")]),e._v(" "),s("h4",[e._v("Voting Phase")]),e._v(" "),s("p",[e._v("Once an official decision is made, further discussion can take place before it is voted on.  If a majority of players reject the party, a different player is assigned the role of party leader and players are reselected.  If five parties are rejected within a single voting phase, Good foreits the game.  If the majority approves the party, the round advances to the questing phase.")]),e._v(" "),s("h4",[e._v("Questing Phase")]),e._v(" "),s("p",[e._v("Once a majority agrees on a party, that party will go on the quest.  Agents of Good can only help it succeed, but agents of Evil can choose to contribute to its success or fail the quest.  Only one fail action is neccessary for the quest to fail.  Once every player has selected an action, the actions are revealed but not associated with the acting player.  After, the party is disbanded and the game returns to the selection phase of a new quest.")]),e._v(" "),s("h4",[e._v("Game End")]),e._v(" "),s("p",[e._v("Questing ends when three quests have succeeded or three quests have failed.  If the latter occurs, Evil wins and the game is over.  If the former occurs, the Assassin will select an agent of Good.  If that player is Merlin, Evil wins despite the results of the quests.")])])],1),e._v(" "),s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",[e._v("Good and Evil Numbers")])]),e._v(" "),s("v-expansion-panel-content",[s("p",[e._v("Each game has a set number of Good and Evil characters, given by the number of players.")]),e._v(" "),s("v-simple-table",{attrs:{dense:""}},[s("thead",[s("tr",[s("th",[e._v("Players")]),e._v(" "),s("th",[e._v("5")]),e._v(" "),s("th",[e._v("6")]),e._v(" "),s("th",[e._v("7")]),e._v(" "),s("th",[e._v("8")]),e._v(" "),s("th",[e._v("9")]),e._v(" "),s("th",[e._v("10")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("Good")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("5")]),e._v(" "),s("td",[e._v("6")]),e._v(" "),s("td",[e._v("6")])]),e._v(" "),s("tr",[s("td",[e._v("Evil")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("4")])])])])],1)],1),e._v(" "),s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",[e._v("Quests and Party Sizes")])]),e._v(" "),s("v-expansion-panel-content",[s("p",[e._v("Each quest has a set party size, given by the number of players.")]),e._v(" "),s("v-simple-table",{attrs:{dense:""}},[s("thead",[s("tr",[s("th",[e._v("Players")]),e._v(" "),s("th",[e._v("5")]),e._v(" "),s("th",[e._v("6")]),e._v(" "),s("th",[e._v("7")]),e._v(" "),s("th",[e._v("8")]),e._v(" "),s("th",[e._v("9")]),e._v(" "),s("th",[e._v("10")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[e._v("1st Quest")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")])]),e._v(" "),s("tr",[s("td",[e._v("2nd Quest")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("4")])]),e._v(" "),s("tr",[s("td",[e._v("3rd Quest")]),e._v(" "),s("td",[e._v("2")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("4")])]),e._v(" "),s("tr",[s("td",[e._v("4th Quest")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("4†")]),e._v(" "),s("td",[e._v("5†")]),e._v(" "),s("td",[e._v("5†")]),e._v(" "),s("td",[e._v("5†")])]),e._v(" "),s("tr",[s("td",[e._v("5th Quest")]),e._v(" "),s("td",[e._v("3")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("4")]),e._v(" "),s("td",[e._v("5")]),e._v(" "),s("td",[e._v("5")]),e._v(" "),s("td",[e._v("5")])])])]),e._v(" "),s("p",[e._v("† In games with 7-10 players, the 4th quest requires Two or more Fails to fail the Quest.")])],1)],1),e._v(" "),s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",[e._v("Special Characters")])]),e._v(" "),s("v-expansion-panel-content",[s("h4",[e._v("Merlin (Good)")]),e._v(" "),s("p",[e._v("Sees all agents of Evil, except for Mordred.  If killed by the Assassin at the end of a game, Evil wins.")]),e._v(" "),s("h4",[e._v("Percival (Good)")]),e._v(" "),s("p",[e._v("Sees Merlin.  If Morgana is also in play, Percival will see both but not who is who.")]),e._v(" "),s("h4",[e._v("Assassin (Evil)")]),e._v(" "),s("p",[e._v("If Good succeeds in three quests, the Assassin chooses an agent of Good to kill.  If Merlin is chosen, Evil wins.")]),e._v(" "),s("h4",[e._v("Mordred (Evil)")]),e._v(" "),s("p",[e._v("Unseen by Merlin.  Mordred's player will not be revealed as an agent of Evil to Merlin.")]),e._v(" "),s("h4",[e._v("Oberon (Evil)")]),e._v(" "),s("p",[e._v("Unseen by agents of Evil, and does not see agents of Evil.  Oberon does not know who the Evil players are, and the Evil players do not know he is Evil.")]),e._v(" "),s("h4",[e._v("Morgana (Evil)")]),e._v(" "),s("p",[e._v("Appears as Merlin to Percival.  Percival will see both Merlin and Morgana, but not know which player is actually Merlin.")])])],1)],1)],1)],1)],1),e._v(" "),s("hr")],1)},staticRenderFns:[]};var p=s("VU/8")({name:"Rules"},m,!1,function(e){s("Iqrd")},null,null).exports,f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"footer"}},[t("span",[this._v('Tyler Nishida | Based on "The Resistance: Avalon" board game by Don Eskridge and published by Indie Boards & Cards | Not endorsed by or affiliated with designer or publisher | '),t("a",{attrs:{href:"https://github.com/tnishida95/avalon-game"}},[this._v("GitHub")])])])}]};var b=s("VU/8")({name:"Footer"},f,!1,function(e){s("pUBt")},null,null).exports,y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("h3",[e._v("Game Board")]),e._v(" "),s("h4",[e._v("Quests:")]),e._v(" "),e._l(e.game.quests,function(t,n){var r;return s("v-btn",{key:n,staticClass:"mx-1",class:(r={},r["good-blue"]=1===t,r["evil-red"]=2===t,r),attrs:{icon:"","x-large":"",outlined:""}},[e._v("\n    "+e._s(e.game.questSize[n])+"\n  ")])}),e._v(" "),s("h4",[e._v("Parties Rejected: "+e._s(e.game.partiesRejected))]),e._v(" "),s("v-divider")],2)},staticRenderFns:[]};var g=s("VU/8")({name:"BoardView",computed:{game:function(){return this.$store.state.game}}},y,!1,function(e){s("VXQm")},null,null).exports,k=s("Gu7T"),x=s.n(k),$={name:"Pregame",data:function(){return{isDone:!1}},computed:{self:function(){return this.$store.state.self},specialCharacters:function(){var e=["merlin","assassin"];return this.$store.state.characterSelections.length>0&&e.push.apply(e,x()(this.$store.state.characterSelections)),e.join(", ").toUpperCase()},characterDescription:function(){var e=this.$store.state.self;return"Merlin"===e.character?"See Evil players, but lose the game if killed by Assassin.":"Percival"===e.character?"See Merlin.  If Morgana is in play, see both but not who is who.":"Assassin"===e.character?"If three quests succeed, Merlin may be killed to steal the win.":"Mordred"===e.character?"Unseen by Merlin.":"Morgana"===e.character?"Percival will see you and Merlin, but not know who is who.":"Oberon"===e.character?"You are not revealed to other Evil players, nor they to you.":"Agent of Evil"===e.character?"A minion of Mordred.  No special abilities.":"A loyal servant of Arthur.  No special abilities."}},methods:{btnPressReady:function(e){this.isDone=!0,this.$socket.emit("btnPressReady",{roomNum:this.$store.state.roomNum,self:this.$store.state.self})}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center",attrs:{id:"pregame"}},[s("h3",[e._v("Game starting!")]),e._v(" "),s("br"),e._v(" "),s("h4",[e._v(e._s(e.self.name)+", you are: "),s("strong",[e._v(e._s(e.self.character))]),e._v(".")]),e._v(" "),s("h5",[e._v(e._s(e.characterDescription))]),e._v(" "),s("br"),e._v(" "),s("h4",[e._v("Special Characters:")]),e._v(" "),s("h5",[e._v(e._s(e.specialCharacters))]),e._v(" "),s("br"),e._v(" "),e.isDone?e._e():s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressReady}},[e._v("Ready")]),e._v(" "),e.isDone?s("h3",[e._v("Readied.")]):e._e(),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var P={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("h3",[e._v("Select "+e._s(e.partySize)+" players for the party:")]),e._v(" "),s("v-btn-toggle",{attrs:{multiple:"",group:"",max:e.partySize},model:{value:e.partySelections,callback:function(t){e.partySelections=t},expression:"partySelections"}},e._l(e.room,function(t){return s("v-hover",{key:t.name,scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return[s("v-btn",{class:{"on-hover":r},attrs:{block:"",elevation:r?12:2,value:t.name}},[e._v("\n        "+e._s(t.name)+"\n      ")])]}}],null,!0)})}),1),e._v(" "),s("p"),e._v(" "),s("span",[e._v("Selected:\n    "),e._l(this.partySelections,function(t){return s("v-chip",{key:t,attrs:{outlined:""}},[e._v(e._s(t))])})],2),e._v(" "),s("p"),e._v(" "),s("v-btn",{attrs:{disabled:e.partySelections.length>e.partySize||e.partySelections.length<e.partySize,"x-large":""},on:{click:e.btnPressPartySubmit}},[e._v("Submit")]),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("h3",[e._v("Party Approval")]),e._v(" "),s("h4",[s("strong",[e._v(e._s(e.leaderName))]),e._v(" selected:")]),e._v(" "),s("span",e._l(e.party,function(t){return s("v-chip",{key:t,attrs:{outlined:""}},[e._v(e._s(t))])}),1),e._v(" "),s("p"),e._v(" "),e.isDone?e._e():s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressApprove}},[e._v("Approve")]),e._v(" "),s("p"),e._v(" "),e.isDone?e._e():s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressReject}},[e._v("Reject")]),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var S={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("h3",[e._v("Questing")]),e._v(" "),s("h4",[e._v("You were approved for the quest!")]),e._v(" "),s("p"),e._v(" "),e.isDone?e._e():s("div",[s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressSuccess}},[e._v("Success")]),e._v(" "),s("p"),e._v(" "),e.isGood?s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressSuccess}},[e._v("Success")]):s("v-btn",{attrs:{"x-large":""},on:{click:e.btnPressFail}},[e._v("Fail")])],1),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var G={name:"Assassin",computed:{targets:function(){for(var e=[],t=this.$store.state.room,s=0;s<t.length;s++)"Assassin"===t[s].character||"Mordred"===t[s].character||"Morgana"===t[s].character||"Oberon"===t[s].character||t[s].character.includes("Evil")||e.push(t[s].name);return e}},methods:{btnPressAssassinSubmit:function(e){console.log(e),this.$socket.emit("btnPressAssassinSubmit",{roomNum:this.$store.state.roomNum,assassinatedName:e})}}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("h3",[e._v("Assassin Phase")]),e._v(" "),s("h4",[e._v("If Merlin is assassinated, you win!")]),e._v(" "),s("p"),e._v(" "),e._l(this.targets,function(t){return s("v-btn",{key:t,attrs:{"x-large":"",block:""},on:{click:function(s){return e.btnPressAssassinSubmit(t)}}},[e._v(e._s(t))])}),e._v(" "),s("p"),e._v(" "),s("v-divider")],2)},staticRenderFns:[]};var M={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid text-center"},[s("h3",[e._v("Game Over!")]),e._v(" "),s("h4",[e._v(e._s(e.winner))]),e._v(" "),s("h4",[e._v("This page is under construction.")]),e._v(" "),s("p"),e._v(" "),s("v-btn",{attrs:{disabled:""}},[e._v("Rejoin Lobby")]),e._v(" "),s("v-btn",{attrs:{disabled:""}},[e._v("Main Menu")]),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container-fluid text-center"},[t("h3",[this._v("Others players are taking action...")]),this._v(" "),t("h4",[this._v(this._s(this.message))]),this._v(" "),t("v-divider")],1)},staticRenderFns:[]};var C={name:"ActionView",components:{Pregame:s("VU/8")($,w,!1,function(e){s("BlBY")},null,null).exports,PartySelect:s("VU/8")({name:"PartySelect",data:function(){return{partySelections:[]}},computed:{room:function(){return this.$store.state.room},partySize:function(){var e=this.$store.state.game.phase,t=-1;return t=e<3?0:e<6?1:e<9?2:e<12?3:4,this.$store.state.game.questSize[t]}},methods:{btnPressPartySubmit:function(e){this.$socket.emit("btnPressPartySubmit",{roomNum:this.$store.state.roomNum,partySelections:this.partySelections})}}},P,!1,function(e){s("XtUR")},null,null).exports,PartyApproval:s("VU/8")({name:"PartyApproval",data:function(){return{isDone:!1}},computed:{self:function(){return this.$store.state.self},leaderName:function(){return this.$store.state.room[this.$store.state.game.partyLeader].name},party:function(){for(var e=[],t=this.$store.state.game,s=0;s<t.selectedParty.length&&-1!==t.selectedParty[s];s++)e.push(this.$store.state.room[t.selectedParty[s]].name);return e}},methods:{btnPressApprove:function(e){this.isDone=!0,this.$socket.emit("btnPressPartyApproval",{roomNum:this.$store.state.roomNum,vote:1,self:this.$store.state.self})},btnPressReject:function(e){this.isDone=!0,this.$socket.emit("btnPressPartyApproval",{roomNum:this.$store.state.roomNum,vote:2,self:this.$store.state.self})}}},E,!1,function(e){s("p5mY")},null,null).exports,Questing:s("VU/8")({name:"Questing",data:function(){return{isDone:!1}},computed:{self:function(){return this.$store.state.self},leaderName:function(){return this.$store.state.room[this.$store.state.game.partyLeader].name},isGood:function(){var e=this.$store.state.self.character;return"Merlin"===e||"Percival"==e||"Agent of Good"===e}},methods:{btnPressSuccess:function(e){this.isDone=!0,this.$socket.emit("btnPressQuestAction",{roomNum:this.$store.state.roomNum,questAction:1,self:this.$store.state.self})},btnPressFail:function(e){this.isDone=!0,this.$socket.emit("btnPressQuestAction",{roomNum:this.$store.state.roomNum,questAction:2,self:this.$store.state.self})}}},S,!1,function(e){s("ohIp")},null,null).exports,Assassin:s("VU/8")(G,A,!1,function(e){s("k+1p")},null,null).exports,GameEnd:s("VU/8")({name:"GameEnd",computed:{winner:function(){return 1===this.$store.state.game.winningTeam?"Good Wins!":"Evil Wins!"}}},M,!1,function(e){s("td1v")},null,null).exports,Waiting:s("VU/8")({name:"Waiting",computed:{message:function(){var e=this.$store.state.game.phase;return 0===e||3===e||6===e||9===e||12===e?"Waiting for a party to be selected":1===e||4===e||7===e||10===e||13===e?"Waiting for approval votes to be cast.":2===e||5===e||8===e||11===e||14===e?"Waiting for quest actions to be submitted.":"The Assassin is attempting to assassinate Merlin!"}}},N,!1,function(e){s("oijv")},null,null).exports},data:function(){return{isDone:!1,currentAction:"Pregame"}},computed:{progress:function(){var e=this.$store.state.game.phase,t=10;if("Pregame"===this.currentAction||1===e||4===e||7===e||10===e||13===e)t=this.$store.state.room.length;else if(0===e||3===e||6===e||9===e||12===e)t=1;else if(2===e)t=this.$store.state.game.questSize[0];else if(5===e)t=this.$store.state.game.questSize[1];else if(8===e)t=this.$store.state.game.questSize[2];else if(11===e)t=this.$store.state.game.questSize[3];else{if(14!==e)return 100;t=this.$store.state.game.questSize[4]}return(t-this.$store.state.waitingOnList.length)/t*100}},methods:{listenUpdateAction:function(){var e=this;this.$socket.on("updateAction",function(t){e.$store.commit("setWaitingOnList",t.waitingOnList),e.$store.commit("setGame",t.game),e.currentAction=t.currentAction})}},beforeMount:function(){this.listenUpdateAction()}},q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-fluid text-center"},[s(e.currentAction,{tag:"component"}),e._v(" "),s("p"),e._v(" "),s("span",[e._v("Waiting for:\n    "),e._l(this.$store.state.waitingOnList,function(t){return s("v-chip",{key:t,attrs:{outlined:""}},[e._v(e._s(t))])})],2),e._v(" "),s("v-progress-linear",{staticClass:"my-5",attrs:{height:"10",value:e.progress}}),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",{staticClass:"text-center"},[e._v("Game History")])]),e._v(" "),s("v-expansion-panel-content",[s("v-simple-table",[s("thead",[s("tr",e._l(this.tableHeaders,function(t,n){return s("th",{key:n},[e._v(e._s(t))])}),0)]),e._v(" "),s("tbody",e._l(this.playerRows,function(t,n){return s("tr",{key:n},e._l(t,function(t,r){return s("td",{key:r,class:{partyBackground:e.onParty(n,r),"good-blue":e.isSuccess(r),"evil-red":e.isFail(r)}},[e._v(e._s(t))])}),0)}),0)])],1)],1)],1),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var R={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[s("v-expansion-panels",{attrs:{value:e.panel}},[s("v-expansion-panel",[s("v-expansion-panel-header",[s("h3",{staticClass:"text-center"},[e._v("Players")])]),e._v(" "),s("v-expansion-panel-content",[s("v-simple-table",{attrs:{dense:""}},[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[e._v("Player")]),e._v(" "),s("th",{staticClass:"text-center"},[e._v("Character")])])]),e._v(" "),s("tbody",e._l(this.$store.state.room,function(t){return s("tr",{key:t.name},[s("td",[e._v(e._s(t.name))]),e._v(" "),s("td",[e._v(e._s(t.character))])])}),0)])],1)],1)],1),e._v(" "),s("v-divider")],1)},staticRenderFns:[]};var V={name:"Game",components:{BoardView:g,ActionView:s("VU/8")(C,q,!1,function(e){s("I4Fd")},null,null).exports,HistoryView:s("VU/8")({name:"HistoryView",data:function(){return{partyTracker:[],questTracker:[]}},computed:{tableHeaders:function(){var e=this.$store.state.game,t=["Player"];16===e.phase&&t.push("Character");for(var s=0;s<e.partyHistories.length;s++){for(var n=0;n<e.partyHistories[s].length;n++)t.push("Q"+(s+1)+"-P"+(n+1));null!=e.questHistories[s]&&t.push("Q"+(s+1))}return t},playerRows:function(){for(var e=this.$store.state.game,t=[],s=0;s<e.playerCount;s++){var n=[];this.partyTracker[s]=[],n.push(e.room[s].name),16===e.phase&&n.push(e.room[s].character);for(var r=1,a=0;a<e.partyHistories.length;a++){for(var o=0;o<e.partyHistories[a].length;o++){e.partyHistories[a][o].selectedParty.includes(s)&&this.partyTracker[s].push(r);var i="";e.partyHistories[a][o].partyLeader===s&&(i+="👑 - "),1===e.partyHistories[a][o].votes[s]?i+="✔":i+="❌",n.push(i),r++}null!=e.questHistories[a]&&(this.questTracker[a]=r,16===e.phase?1===e.questHistories[a].partyActions[s]?n.push("🔵"):2===e.questHistories[a].partyActions[s]?n.push("🔴"):n.push(" "):0===e.questHistories[a].partyActions[s]?n.push(" "):n.push("⚫"),r++)}t.push(n)}return t}},methods:{onParty:function(e,t){return 16===this.$store.state.game.phase&&t--,this.partyTracker[e].includes(t)},isSuccess:function(e){var t=this.$store.state.game;if(16===t.phase&&e--,this.questTracker.includes(e)&&1===t.quests[this.questTracker.indexOf(e)])return!0},isFail:function(e){var t=this.$store.state.game;if(16===t.phase&&e--,this.questTracker.includes(e)&&2===t.quests[this.questTracker.indexOf(e)])return!0}}},T,!1,function(e){s("+AEV")},null,null).exports,PlayerView:s("VU/8")({name:"PlayerView",data:function(){return{panel:0}}},R,!1,function(e){s("xJeX")},null,null).exports},computed:{}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("BoardView"),this._v(" "),t("ActionView"),this._v(" "),t("HistoryView"),this._v(" "),t("PlayerView")],1)},staticRenderFns:[]};var L={name:"App",components:{Header:i,MainMenu:v,HostLobby:h,GuestLobby:_,Game:s("VU/8")(V,I,!1,function(e){s("bqOY")},null,null).exports,Rules:p,Footer:b},computed:{room:function(){return this.$store.state.room},roomNum:function(){return this.$store.state.roomNum}},data:function(){return{currentView:"MainMenu",headerText:"Welcome to Avalon!",snackbar:!1,snackbarText:"Oops, something went wrong."}},methods:{listenUpdateLobby:function(){var e=this;this.$socket.on("updateLobby",function(t){e.$store.commit("setRoomNum",t.roomNum),e.headerText="Room #"+t.roomNum,e.$store.commit("setRoom",t.room),e.$socket.id==t.room[0].sid?e.currentView="HostLobby":e.currentView="GuestLobby",document.title="Avalon - #"+t.roomNum})},listenLoadMainMenu:function(){var e=this;this.$socket.on("loadMainMenu",function(t){e.$store.commit("setRoomNum",-1),e.headerText="Welcome to Avalon!",e.currentView="MainMenu",document.title="Avalon"})},listenLoadGame:function(){var e=this;this.$socket.on("loadGame",function(t){e.$store.commit("setRoom",t.room),e.$store.commit("setSelf",t.self),e.$store.commit("setWaitingOnList",t.waitingOnList),e.$store.commit("setGame",t.game),e.$store.commit("setCharacterSelections",t.characterSelections),e.currentView="Game"})},listenError:function(){var e=this;this.$socket.on("error",function(t){e.snackbar=!0,e.snackbarText=t.message})}},beforeMount:function(){this.listenUpdateLobby(),this.listenLoadMainMenu(),this.listenLoadGame(),this.listenError()}},U={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"app"}},[s("v-container",{staticStyle:{"max-width":"1000px"}},[s("Header",{attrs:{headerText:e.headerText}}),e._v(" "),s(e.currentView,{tag:"component",attrs:{snackbar:e.snackbar}}),e._v(" "),s("Rules"),e._v(" "),s("Footer")],1),e._v(" "),s("v-snackbar",{attrs:{top:"",timeout:"2000"},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[s("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("\n        Close\n      ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n    ")])],1)},staticRenderFns:[]};var F=s("VU/8")(L,U,!1,function(e){s("PEe8")},null,null).exports,O=s("DmT9"),H=s.n(O),z=s("3EgV"),D=s.n(z);s("7zck");n.default.use(D.a);var Q=new D.a({});n.default.config.productionTip=!1,n.default.use(r.a);var j=new r.a.Store({state:{room:[],roomNum:-1,self:{},waitingOnList:[],game:{}},mutations:{setRoom:function(e,t){e.room=t},setRoomNum:function(e,t){e.roomNum=t},setSelf:function(e,t){e.self=t},setWaitingOnList:function(e,t){e.waitingOnList=t},setGame:function(e,t){e.game=t},setCharacterSelections:function(e,t){e.characterSelections=t}}}),W=H()();W.on("connect",function(){console.log("Successfully established socket connection")}),n.default.prototype.$socket=W,new n.default({el:"#app",components:{App:F},template:"<App/>",store:j,vuetify:Q})},PEe8:function(e,t){},VXQm:function(e,t){},XtUR:function(e,t){},Zd5E:function(e,t){},bqOY:function(e,t){},cEv2:function(e,t){},"k+1p":function(e,t){},ohIp:function(e,t){},oijv:function(e,t){},p5mY:function(e,t){},pUBt:function(e,t){},td1v:function(e,t){},u7O1:function(e,t){},xJeX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2f0e6165bde3e5880374.js.map